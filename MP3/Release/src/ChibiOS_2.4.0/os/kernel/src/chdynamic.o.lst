   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 4
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"chdynamic.c"
  16              		.section	.text.chThdAddRef,"ax",%progbits
  17              		.align	1
  18              		.global	chThdAddRef
  19              		.thumb
  20              		.thumb_func
  22              	chThdAddRef:
  23              		@ args = 0, pretend = 0, frame = 0
  24              		@ frame_needed = 0, uses_anonymous_args = 0
  25              		@ link register save eliminated.
  26 0000 2023     		movs	r3, #32
  27              	@ 54 "../src/ChibiOS_2.4.0/os/kernel/src/chdynamic.c" 1
  28 0002 83F31188 		msr     BASEPRI, r3
  29              	@ 0 "" 2
  30              		.thumb
  31 0006 817F     		ldrb	r1, [r0, #30]	@ zero_extendqisi2
  32 0008 4B1C     		adds	r3, r1, #1
  33 000a 8377     		strb	r3, [r0, #30]
  34 000c 0023     		movs	r3, #0
  35              	@ 57 "../src/ChibiOS_2.4.0/os/kernel/src/chdynamic.c" 1
  36 000e 83F31188 		msr     BASEPRI, r3
  37              	@ 0 "" 2
  38              		.thumb
  39 0012 7047     		bx	lr
  41              		.section	.text.chThdRelease,"ax",%progbits
  42              		.align	1
  43              		.global	chThdRelease
  44              		.thumb
  45              		.thumb_func
  47              	chThdRelease:
  48              		@ args = 0, pretend = 0, frame = 0
  49              		@ frame_needed = 0, uses_anonymous_args = 0
  50              		@ link register save eliminated.
  51 0000 0146     		mov	r1, r0
  52 0002 2023     		movs	r3, #32
  53              	@ 77 "../src/ChibiOS_2.4.0/os/kernel/src/chdynamic.c" 1
  54 0004 83F31188 		msr     BASEPRI, r3
  55              	@ 0 "" 2
  56              		.thumb
  57 0008 827F     		ldrb	r2, [r0, #30]	@ zero_extendqisi2
  58 000a 531E     		subs	r3, r2, #1
  59 000c DAB2     		uxtb	r2, r3
  60 000e 8277     		strb	r2, [r0, #30]
  61 0010 0023     		movs	r3, #0
  62              	@ 80 "../src/ChibiOS_2.4.0/os/kernel/src/chdynamic.c" 1
  63 0012 83F31188 		msr     BASEPRI, r3
  64              	@ 0 "" 2
  65              		.thumb
  66 0016 002A     		cmp	r2, #0
  67 0018 1BD1     		bne	.L2
  68 001a 90F81CC0 		ldrb	ip, [r0, #28]	@ zero_extendqisi2
  69 001e BCF10E0F 		cmp	ip, #14
  70 0022 16D1     		bne	.L2
  71 0024 437F     		ldrb	r3, [r0, #29]	@ zero_extendqisi2
  72 0026 03F00303 		and	r3, r3, #3
  73 002a 012B     		cmp	r3, #1
  74 002c 02D0     		beq	.L4
  75 002e 022B     		cmp	r3, #2
  76 0030 0FD1     		bne	.L2
  77 0032 06E0     		b	.L6
  78              	.L4:
  79 0034 4369     		ldr	r3, [r0, #20]
  80 0036 0269     		ldr	r2, [r0, #16]
  81 0038 1A61     		str	r2, [r3, #16]
  82 003a 0169     		ldr	r1, [r0, #16]
  83 003c 4B61     		str	r3, [r1, #20]
  84 003e FFF7FEBF 		b	chHeapFree
  85              	.L6:
  86 0042 4369     		ldr	r3, [r0, #20]
  87 0044 0269     		ldr	r2, [r0, #16]
  88 0046 1A61     		str	r2, [r3, #16]
  89 0048 0069     		ldr	r0, [r0, #16]
  90 004a 4361     		str	r3, [r0, #20]
  91 004c 486C     		ldr	r0, [r1, #68]
  92 004e FFF7FEBF 		b	chPoolFree
  93              	.L2:
  94 0052 7047     		bx	lr
  96              		.section	.text.chThdCreateFromHeap,"ax",%progbits
  97              		.align	1
  98              		.global	chThdCreateFromHeap
  99              		.thumb
 100              		.thumb_func
 102              	chThdCreateFromHeap:
 103              		@ args = 4, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
 105 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
 106 0002 0D46     		mov	r5, r1
 107 0004 1646     		mov	r6, r2
 108 0006 1C46     		mov	r4, r3
 109 0008 FFF7FEFF 		bl	chHeapAlloc
 110 000c 98B1     		cbz	r0, .L9
 111 000e 2023     		movs	r3, #32
 112              	@ 148 "../src/ChibiOS_2.4.0/os/kernel/src/chdynamic.c" 1
 113 0010 83F31188 		msr     BASEPRI, r3
 114              	@ 0 "" 2
 115              		.thumb
 116 0014 0699     		ldr	r1, [sp, #24]
 117 0016 3246     		mov	r2, r6
 118 0018 0091     		str	r1, [sp, #0]
 119 001a 2346     		mov	r3, r4
 120 001c 2946     		mov	r1, r5
 121 001e FFF7FEFF 		bl	chThdCreateI
 122 0022 0123     		movs	r3, #1
 123 0024 4377     		strb	r3, [r0, #29]
 124 0026 0021     		movs	r1, #0
 125 0028 0446     		mov	r4, r0
 126 002a FFF7FEFF 		bl	chSchWakeupS
 127 002e 0023     		movs	r3, #0
 128              	@ 152 "../src/ChibiOS_2.4.0/os/kernel/src/chdynamic.c" 1
 129 0030 83F31188 		msr     BASEPRI, r3
 130              	@ 0 "" 2
 131              		.thumb
 132 0034 00E0     		b	.L8
 133              	.L9:
 134 0036 0446     		mov	r4, r0
 135              	.L8:
 136 0038 2046     		mov	r0, r4
 137 003a 7CBD     		pop	{r2, r3, r4, r5, r6, pc}
 139              		.section	.text.chThdCreateFromMemoryPool,"ax",%progbits
 140              		.align	1
 141              		.global	chThdCreateFromMemoryPool
 142              		.thumb
 143              		.thumb_func
 145              	chThdCreateFromMemoryPool:
 146              		@ args = 0, pretend = 0, frame = 0
 147              		@ frame_needed = 0, uses_anonymous_args = 0
 148 0000 F7B5     		push	{r0, r1, r2, r4, r5, r6, r7, lr}
 149 0002 0446     		mov	r4, r0
 150 0004 0E46     		mov	r6, r1
 151 0006 1546     		mov	r5, r2
 152 0008 1F46     		mov	r7, r3
 153 000a FFF7FEFF 		bl	chPoolAlloc
 154 000e 98B1     		cbz	r0, .L12
 155 0010 2023     		movs	r3, #32
 156              	@ 199 "../src/ChibiOS_2.4.0/os/kernel/src/chdynamic.c" 1
 157 0012 83F31188 		msr     BASEPRI, r3
 158              	@ 0 "" 2
 159              		.thumb
 160 0016 6168     		ldr	r1, [r4, #4]
 161 0018 0097     		str	r7, [sp, #0]
 162 001a 3246     		mov	r2, r6
 163 001c 2B46     		mov	r3, r5
 164 001e FFF7FEFF 		bl	chThdCreateI
 165 0022 0223     		movs	r3, #2
 166 0024 4377     		strb	r3, [r0, #29]
 167 0026 4464     		str	r4, [r0, #68]
 168 0028 0021     		movs	r1, #0
 169 002a 0546     		mov	r5, r0
 170 002c FFF7FEFF 		bl	chSchWakeupS
 171 0030 0023     		movs	r3, #0
 172              	@ 204 "../src/ChibiOS_2.4.0/os/kernel/src/chdynamic.c" 1
 173 0032 83F31188 		msr     BASEPRI, r3
 174              	@ 0 "" 2
 175              		.thumb
 176 0036 00E0     		b	.L11
 177              	.L12:
 178 0038 0546     		mov	r5, r0
 179              	.L11:
 180 003a 2846     		mov	r0, r5
 181 003c FEBD     		pop	{r1, r2, r3, r4, r5, r6, r7, pc}
 183              		.ident	"GCC: (Sourcery CodeBench Lite 2012.03-56) 4.6.3"
DEFINED SYMBOLS
                            *ABS*:00000000 chdynamic.c
     /tmp/cckuBagP.s:17     .text.chThdAddRef:00000000 $t
     /tmp/cckuBagP.s:22     .text.chThdAddRef:00000000 chThdAddRef
     /tmp/cckuBagP.s:42     .text.chThdRelease:00000000 $t
     /tmp/cckuBagP.s:47     .text.chThdRelease:00000000 chThdRelease
     /tmp/cckuBagP.s:97     .text.chThdCreateFromHeap:00000000 $t
     /tmp/cckuBagP.s:102    .text.chThdCreateFromHeap:00000000 chThdCreateFromHeap
     /tmp/cckuBagP.s:140    .text.chThdCreateFromMemoryPool:00000000 $t
     /tmp/cckuBagP.s:145    .text.chThdCreateFromMemoryPool:00000000 chThdCreateFromMemoryPool

UNDEFINED SYMBOLS
chHeapFree
chPoolFree
chHeapAlloc
chThdCreateI
chSchWakeupS
chPoolAlloc
