   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 3
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 4
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"chsem.c"
  16              		.section	.text.queue_insert,"ax",%progbits
  17              		.align	1
  18              		.thumb
  19              		.thumb_func
  21              	queue_insert:
  22              		@ args = 0, pretend = 0, frame = 0
  23              		@ frame_needed = 0, uses_anonymous_args = 0
  24              		@ link register save eliminated.
  25 0000 4B68     		ldr	r3, [r1, #4]
  26 0002 80E80A00 		stmia	r0, {r1, r3}
  27 0006 4860     		str	r0, [r1, #4]
  28 0008 1860     		str	r0, [r3, #0]
  29 000a 7047     		bx	lr
  31              		.section	.text.fifo_remove,"ax",%progbits
  32              		.align	1
  33              		.thumb
  34              		.thumb_func
  36              	fifo_remove:
  37              		@ args = 0, pretend = 0, frame = 0
  38              		@ frame_needed = 0, uses_anonymous_args = 0
  39              		@ link register save eliminated.
  40 0000 0346     		mov	r3, r0
  41 0002 0068     		ldr	r0, [r0, #0]
  42 0004 0268     		ldr	r2, [r0, #0]
  43 0006 1A60     		str	r2, [r3, #0]
  44 0008 5360     		str	r3, [r2, #4]
  45 000a 7047     		bx	lr
  47              		.section	.text.chSemInit,"ax",%progbits
  48              		.align	1
  49              		.global	chSemInit
  50              		.thumb
  51              		.thumb_func
  53              	chSemInit:
  54              		@ args = 0, pretend = 0, frame = 0
  55              		@ frame_needed = 0, uses_anonymous_args = 0
  56              		@ link register save eliminated.
  57 0000 4060     		str	r0, [r0, #4]
  58 0002 0060     		str	r0, [r0, #0]
  59 0004 8160     		str	r1, [r0, #8]
  60 0006 7047     		bx	lr
  62              		.section	.text.chSemResetI,"ax",%progbits
  63              		.align	1
  64              		.global	chSemResetI
  65              		.thumb
  66              		.thumb_func
  68              	chSemResetI:
  69              		@ args = 0, pretend = 0, frame = 0
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  71 0000 38B5     		push	{r3, r4, r5, lr}
  72 0002 8568     		ldr	r5, [r0, #8]
  73 0004 8160     		str	r1, [r0, #8]
  74 0006 0446     		mov	r4, r0
  75 0008 08E0     		b	.L5
  76              	.L6:
  77 000a 6068     		ldr	r0, [r4, #4]
  78 000c 4168     		ldr	r1, [r0, #4]
  79 000e 6160     		str	r1, [r4, #4]
  80 0010 0C60     		str	r4, [r1, #0]
  81 0012 FFF7FEFF 		bl	chSchReadyI
  82 0016 6FF00103 		mvn	r3, #1
  83 001a 4362     		str	r3, [r0, #36]
  84              	.L5:
  85 001c 0135     		adds	r5, r5, #1
  86 001e 002D     		cmp	r5, #0
  87 0020 F3DD     		ble	.L6
  88 0022 38BD     		pop	{r3, r4, r5, pc}
  90              		.section	.text.chSemReset,"ax",%progbits
  91              		.align	1
  92              		.global	chSemReset
  93              		.thumb
  94              		.thumb_func
  96              	chSemReset:
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 0, uses_anonymous_args = 0
  99 0000 08B5     		push	{r3, lr}
 100 0002 2023     		movs	r3, #32
 101              	@ 111 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 102 0004 83F31188 		msr     BASEPRI, r3
 103              	@ 0 "" 2
 104              		.thumb
 105 0008 FFF7FEFF 		bl	chSemResetI
 106 000c FFF7FEFF 		bl	chSchRescheduleS
 107 0010 0023     		movs	r3, #0
 108              	@ 114 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 109 0012 83F31188 		msr     BASEPRI, r3
 110              	@ 0 "" 2
 111              		.thumb
 112 0016 08BD     		pop	{r3, pc}
 114              		.section	.text.chSemWaitS,"ax",%progbits
 115              		.align	1
 116              		.global	chSemWaitS
 117              		.thumb
 118              		.thumb_func
 120              	chSemWaitS:
 121              		@ args = 0, pretend = 0, frame = 0
 122              		@ frame_needed = 0, uses_anonymous_args = 0
 123 0000 8268     		ldr	r2, [r0, #8]
 124 0002 531E     		subs	r3, r2, #1
 125 0004 002B     		cmp	r3, #0
 126 0006 10B5     		push	{r4, lr}
 127 0008 0146     		mov	r1, r0
 128 000a 8360     		str	r3, [r0, #8]
 129 000c 0ADA     		bge	.L10
 130 000e 064C     		ldr	r4, .L11
 131 0010 E069     		ldr	r0, [r4, #28]
 132 0012 4162     		str	r1, [r0, #36]
 133 0014 FFF7FEFF 		bl	queue_insert
 134 0018 0320     		movs	r0, #3
 135 001a FFF7FEFF 		bl	chSchGoSleepS
 136 001e E069     		ldr	r0, [r4, #28]
 137 0020 406A     		ldr	r0, [r0, #36]
 138 0022 10BD     		pop	{r4, pc}
 139              	.L10:
 140 0024 0020     		movs	r0, #0
 141 0026 10BD     		pop	{r4, pc}
 142              	.L12:
 143              		.align	2
 144              	.L11:
 145 0028 00000000 		.word	rlist
 147              		.section	.text.chSemWait,"ax",%progbits
 148              		.align	1
 149              		.global	chSemWait
 150              		.thumb
 151              		.thumb_func
 153              	chSemWait:
 154              		@ args = 0, pretend = 0, frame = 0
 155              		@ frame_needed = 0, uses_anonymous_args = 0
 156 0000 08B5     		push	{r3, lr}
 157 0002 2023     		movs	r3, #32
 158              	@ 167 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 159 0004 83F31188 		msr     BASEPRI, r3
 160              	@ 0 "" 2
 161              		.thumb
 162 0008 FFF7FEFF 		bl	chSemWaitS
 163 000c 0023     		movs	r3, #0
 164              	@ 169 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 165 000e 83F31188 		msr     BASEPRI, r3
 166              	@ 0 "" 2
 167              		.thumb
 168 0012 08BD     		pop	{r3, pc}
 170              		.section	.text.chSemWaitTimeoutS,"ax",%progbits
 171              		.align	1
 172              		.global	chSemWaitTimeoutS
 173              		.thumb
 174              		.thumb_func
 176              	chSemWaitTimeoutS:
 177              		@ args = 0, pretend = 0, frame = 0
 178              		@ frame_needed = 0, uses_anonymous_args = 0
 179 0000 8268     		ldr	r2, [r0, #8]
 180 0002 10B5     		push	{r4, lr}
 181 0004 0C46     		mov	r4, r1
 182 0006 511E     		subs	r1, r2, #1
 183 0008 0029     		cmp	r1, #0
 184 000a 0346     		mov	r3, r0
 185 000c 8160     		str	r1, [r0, #8]
 186 000e 10DA     		bge	.L17
 187 0010 1CB9     		cbnz	r4, .L16
 188 0012 8260     		str	r2, [r0, #8]
 189 0014 4FF0FF30 		mov	r0, #-1
 190 0018 10BD     		pop	{r4, pc}
 191              	.L16:
 192 001a 074A     		ldr	r2, .L18
 193 001c D069     		ldr	r0, [r2, #28]
 194 001e 1946     		mov	r1, r3
 195 0020 4362     		str	r3, [r0, #36]
 196 0022 FFF7FEFF 		bl	queue_insert
 197 0026 0320     		movs	r0, #3
 198 0028 2146     		mov	r1, r4
 199 002a BDE81040 		pop	{r4, lr}
 200 002e FFF7FEBF 		b	chSchGoSleepTimeoutS
 201              	.L17:
 202 0032 0020     		movs	r0, #0
 203 0034 10BD     		pop	{r4, pc}
 204              	.L19:
 205 0036 00BF     		.align	2
 206              	.L18:
 207 0038 00000000 		.word	rlist
 209              		.section	.text.chSemWaitTimeout,"ax",%progbits
 210              		.align	1
 211              		.global	chSemWaitTimeout
 212              		.thumb
 213              		.thumb_func
 215              	chSemWaitTimeout:
 216              		@ args = 0, pretend = 0, frame = 0
 217              		@ frame_needed = 0, uses_anonymous_args = 0
 218 0000 08B5     		push	{r3, lr}
 219 0002 2023     		movs	r3, #32
 220              	@ 225 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 221 0004 83F31188 		msr     BASEPRI, r3
 222              	@ 0 "" 2
 223              		.thumb
 224 0008 FFF7FEFF 		bl	chSemWaitTimeoutS
 225 000c 0023     		movs	r3, #0
 226              	@ 227 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 227 000e 83F31188 		msr     BASEPRI, r3
 228              	@ 0 "" 2
 229              		.thumb
 230 0012 08BD     		pop	{r3, pc}
 232              		.section	.text.chSemSignal,"ax",%progbits
 233              		.align	1
 234              		.global	chSemSignal
 235              		.thumb
 236              		.thumb_func
 238              	chSemSignal:
 239              		@ args = 0, pretend = 0, frame = 0
 240              		@ frame_needed = 0, uses_anonymous_args = 0
 241 0000 08B5     		push	{r3, lr}
 242 0002 2023     		movs	r3, #32
 243              	@ 286 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 244 0004 83F31188 		msr     BASEPRI, r3
 245              	@ 0 "" 2
 246              		.thumb
 247 0008 8168     		ldr	r1, [r0, #8]
 248 000a 4B1C     		adds	r3, r1, #1
 249 000c 002B     		cmp	r3, #0
 250 000e 8360     		str	r3, [r0, #8]
 251 0010 04DC     		bgt	.L22
 252 0012 FFF7FEFF 		bl	fifo_remove
 253 0016 0021     		movs	r1, #0
 254 0018 FFF7FEFF 		bl	chSchWakeupS
 255              	.L22:
 256 001c 0023     		movs	r3, #0
 257              	@ 289 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 258 001e 83F31188 		msr     BASEPRI, r3
 259              	@ 0 "" 2
 260              		.thumb
 261 0022 08BD     		pop	{r3, pc}
 263              		.section	.text.chSemSignalI,"ax",%progbits
 264              		.align	1
 265              		.global	chSemSignalI
 266              		.thumb
 267              		.thumb_func
 269              	chSemSignalI:
 270              		@ args = 0, pretend = 0, frame = 0
 271              		@ frame_needed = 0, uses_anonymous_args = 0
 272 0000 8168     		ldr	r1, [r0, #8]
 273 0002 08B5     		push	{r3, lr}
 274 0004 4B1C     		adds	r3, r1, #1
 275 0006 002B     		cmp	r3, #0
 276 0008 8360     		str	r3, [r0, #8]
 277 000a 07DC     		bgt	.L23
 278 000c FFF7FEFF 		bl	fifo_remove
 279 0010 0022     		movs	r2, #0
 280 0012 4262     		str	r2, [r0, #36]
 281 0014 BDE80840 		pop	{r3, lr}
 282 0018 FFF7FEBF 		b	chSchReadyI
 283              	.L23:
 284 001c 08BD     		pop	{r3, pc}
 286              		.section	.text.chSemAddCounterI,"ax",%progbits
 287              		.align	1
 288              		.global	chSemAddCounterI
 289              		.thumb
 290              		.thumb_func
 292              	chSemAddCounterI:
 293              		@ args = 0, pretend = 0, frame = 0
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 295 0000 38B5     		push	{r3, r4, r5, lr}
 296 0002 0446     		mov	r4, r0
 297 0004 0D46     		mov	r5, r1
 298 0006 0CE0     		b	.L26
 299              	.L28:
 300 0008 A068     		ldr	r0, [r4, #8]
 301 000a 431C     		adds	r3, r0, #1
 302 000c 002B     		cmp	r3, #0
 303 000e A360     		str	r3, [r4, #8]
 304 0010 06DC     		bgt	.L27
 305 0012 2046     		mov	r0, r4
 306 0014 FFF7FEFF 		bl	fifo_remove
 307 0018 FFF7FEFF 		bl	chSchReadyI
 308 001c 0021     		movs	r1, #0
 309 001e 4162     		str	r1, [r0, #36]
 310              	.L27:
 311 0020 013D     		subs	r5, r5, #1
 312              	.L26:
 313 0022 002D     		cmp	r5, #0
 314 0024 F0DC     		bgt	.L28
 315 0026 38BD     		pop	{r3, r4, r5, pc}
 317              		.section	.text.chSemSignalWait,"ax",%progbits
 318              		.align	1
 319              		.global	chSemSignalWait
 320              		.thumb
 321              		.thumb_func
 323              	chSemSignalWait:
 324              		@ args = 0, pretend = 0, frame = 0
 325              		@ frame_needed = 0, uses_anonymous_args = 0
 326 0000 38B5     		push	{r3, r4, r5, lr}
 327 0002 0C46     		mov	r4, r1
 328 0004 2023     		movs	r3, #32
 329              	@ 379 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 330 0006 83F31188 		msr     BASEPRI, r3
 331              	@ 0 "" 2
 332              		.thumb
 333 000a 8168     		ldr	r1, [r0, #8]
 334 000c 4B1C     		adds	r3, r1, #1
 335 000e 002B     		cmp	r3, #0
 336 0010 8360     		str	r3, [r0, #8]
 337 0012 05DC     		bgt	.L30
 338 0014 FFF7FEFF 		bl	fifo_remove
 339 0018 FFF7FEFF 		bl	chSchReadyI
 340 001c 0022     		movs	r2, #0
 341 001e 4262     		str	r2, [r0, #36]
 342              	.L30:
 343 0020 A368     		ldr	r3, [r4, #8]
 344 0022 581E     		subs	r0, r3, #1
 345 0024 0028     		cmp	r0, #0
 346 0026 A060     		str	r0, [r4, #8]
 347 0028 0BDA     		bge	.L31
 348 002a 094D     		ldr	r5, .L33
 349 002c ED69     		ldr	r5, [r5, #28]
 350 002e 2146     		mov	r1, r4
 351 0030 2846     		mov	r0, r5
 352 0032 FFF7FEFF 		bl	queue_insert
 353 0036 0320     		movs	r0, #3
 354 0038 6C62     		str	r4, [r5, #36]
 355 003a FFF7FEFF 		bl	chSchGoSleepS
 356 003e 686A     		ldr	r0, [r5, #36]
 357 0040 02E0     		b	.L32
 358              	.L31:
 359 0042 FFF7FEFF 		bl	chSchRescheduleS
 360 0046 0020     		movs	r0, #0
 361              	.L32:
 362 0048 0023     		movs	r3, #0
 363              	@ 393 "../src/ChibiOS_2.4.0/os/kernel/src/chsem.c" 1
 364 004a 83F31188 		msr     BASEPRI, r3
 365              	@ 0 "" 2
 366              		.thumb
 367 004e 38BD     		pop	{r3, r4, r5, pc}
 368              	.L34:
 369              		.align	2
 370              	.L33:
 371 0050 00000000 		.word	rlist
 373              		.ident	"GCC: (Sourcery CodeBench Lite 2012.03-56) 4.6.3"
DEFINED SYMBOLS
                            *ABS*:00000000 chsem.c
     /tmp/cc2MXf1a.s:17     .text.queue_insert:00000000 $t
     /tmp/cc2MXf1a.s:21     .text.queue_insert:00000000 queue_insert
     /tmp/cc2MXf1a.s:32     .text.fifo_remove:00000000 $t
     /tmp/cc2MXf1a.s:36     .text.fifo_remove:00000000 fifo_remove
     /tmp/cc2MXf1a.s:48     .text.chSemInit:00000000 $t
     /tmp/cc2MXf1a.s:53     .text.chSemInit:00000000 chSemInit
     /tmp/cc2MXf1a.s:63     .text.chSemResetI:00000000 $t
     /tmp/cc2MXf1a.s:68     .text.chSemResetI:00000000 chSemResetI
     /tmp/cc2MXf1a.s:91     .text.chSemReset:00000000 $t
     /tmp/cc2MXf1a.s:96     .text.chSemReset:00000000 chSemReset
     /tmp/cc2MXf1a.s:115    .text.chSemWaitS:00000000 $t
     /tmp/cc2MXf1a.s:120    .text.chSemWaitS:00000000 chSemWaitS
     /tmp/cc2MXf1a.s:145    .text.chSemWaitS:00000028 $d
     /tmp/cc2MXf1a.s:148    .text.chSemWait:00000000 $t
     /tmp/cc2MXf1a.s:153    .text.chSemWait:00000000 chSemWait
     /tmp/cc2MXf1a.s:171    .text.chSemWaitTimeoutS:00000000 $t
     /tmp/cc2MXf1a.s:176    .text.chSemWaitTimeoutS:00000000 chSemWaitTimeoutS
     /tmp/cc2MXf1a.s:207    .text.chSemWaitTimeoutS:00000038 $d
     /tmp/cc2MXf1a.s:210    .text.chSemWaitTimeout:00000000 $t
     /tmp/cc2MXf1a.s:215    .text.chSemWaitTimeout:00000000 chSemWaitTimeout
     /tmp/cc2MXf1a.s:233    .text.chSemSignal:00000000 $t
     /tmp/cc2MXf1a.s:238    .text.chSemSignal:00000000 chSemSignal
     /tmp/cc2MXf1a.s:264    .text.chSemSignalI:00000000 $t
     /tmp/cc2MXf1a.s:269    .text.chSemSignalI:00000000 chSemSignalI
     /tmp/cc2MXf1a.s:287    .text.chSemAddCounterI:00000000 $t
     /tmp/cc2MXf1a.s:292    .text.chSemAddCounterI:00000000 chSemAddCounterI
     /tmp/cc2MXf1a.s:318    .text.chSemSignalWait:00000000 $t
     /tmp/cc2MXf1a.s:323    .text.chSemSignalWait:00000000 chSemSignalWait
     /tmp/cc2MXf1a.s:371    .text.chSemSignalWait:00000050 $d

UNDEFINED SYMBOLS
chSchReadyI
chSchRescheduleS
chSchGoSleepS
rlist
chSchGoSleepTimeoutS
chSchWakeupS
